{% load static %}

<HTML>
    <head>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
        <link rel="stylesheet" type="text/css" href="{% static 'dashboard/style.css' %}">
    </head>
    <body>

		<section class ="header">
            <div class ="header-title">
                <p>VTiger Sales Dashboard</p>
            </div>
            <div>
                <form action = "populate/" method="post">{% csrf_token %}<input type="hidden" name="populate">
                    <input type="submit" value="Populate"/>
                </form>
            </div>
            <div>
                <form action = "deleteall/" method="post">{% csrf_token %}<input type="hidden" name="deleteall">
                    <input type="submit" value="DeleteAll"/>
                </form>
            </div>

        </section>

        <section class="points">
            {% for user_score in score_total %}
                {% for key, value in user_score.items %}
                    <div class = "score_box">
                        <span class ="score_name">{{ key }}</span> </br> <span class="score_num">{{ value }}</span>
                    </div>
                {% endfor %}
            {% endfor %}
        </section>
        
        <div class = "auto_refresh_box">
            <label id="number_input" for="minutes">Minutes:</label>
            <input type="number" id="minutes_input" name="minutes" min="1" max="20" value="5" onchange="update_refresh_time()">
            </br>            
            <input type="checkbox" id="checkbox_autoupdate" onclick="checkbox_click()" unchecked/>
            <label id="auto_update_label" for="checkbox_autoupdate">Auto Refresh</label>
        </div>

        <div class="score_key_and_tables">
            <section class="score_key">
                <p>Score Key</p>
                <table class="score_key_table">
                    <tr>
                        <th>Demo Scheduled:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Demo Given:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Quote Sent:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Pilot:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Needs Analysis:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Closed Won:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Closed Lost:</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>Phone Calls:</th>
                        <td>1</td>
                    </tr>
                </table>
            </section>

            <section class="score_tables">
                {% for stat in stat_total %}
                    {% for key, value in stat.items %}
                        <p class="score_table_title">{{ key }}</p>
                        <table>
                            <th>Demo Scheduled</th>
                            <th>Demo Given</th>
                            <th>Quote Sent</th>
                            <th>Pilot</th>
                            <th>Needs Analysis</th>
                            <th>Closed Won</th>
                            <th>Closed Lost</th>
                            <th>Phone Calls</th>
                            <tr>
                                {% for num in value %}
                                    <td>
                                        {{ num }}
                                    </td>
                                {% endfor %}
                            </tr>
                        <table>
                    {% endfor %}
                {% endfor %}
            </section>
        </div>

        <script type="text/javascript" src="{% static 'dashboard/scripts.js' %}"></script>
    </body>
</HTML>